---
phase: 01-logging-cleanup
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [frontend/lib/logger.ts, frontend/package.json, frontend/.env.local]
autonomous: true
must_haves:
  truths:
    - "Logger utility provides structured logging with configurable levels"
    - "Environment variable controls log level and output format"
    - "Logger is ready for use across all services and API routes"
  artifacts:
    - path: "frontend/lib/logger.ts"
      provides: "Centralized logger configuration"
      min_lines: 30
      exports: ["logger", "createLogger"]
    - path: "frontend/package.json"
      provides: "Dependencies updated"
      contains: "pino", "pino-pretty"
  key_links:
    - from: "logger.ts"
      to: "process.env.LOG_LEVEL"
      via: "environment variable"
      pattern: "process\.env\.LOG_LEVEL"
---

<objective>
Create a centralized logger utility using Pino that provides structured logging with environment-based configuration.

Purpose: Replace scattered console.log statements with a professional logging system that supports log levels, structured data, and environment-based formatting.
Output: A reusable logger utility that can be imported throughout the application.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-logging-cleanup/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install Pino dependencies</name>
  <files>frontend/package.json</files>
  <action>
    Install pino and pino-pretty as dependencies in the frontend project:
    - pino: ^9.0.0 (high-performance JSON logger)
    - pino-pretty: ^11.0.0 (development formatting)

    Run npm install to add these packages to node_modules and update package-lock.json.
  </action>
  <verify>cd /Volumes/extSSD/dev/projects/anime-recommendation/frontend && npm list pino pino-pretty</verify>
  <done>Pino and pino-pretty are installed and listed in package.json dependencies</done>
</task>

<task type="auto">
  <name>Task 2: Create centralized logger configuration</name>
  <files>frontend/lib/logger.ts</files>
  <action>
    Create a new logger.ts file in the lib directory with the following configuration:
    - Import pino and configure it based on NODE_ENV
    - Set log level from LOG_LEVEL environment variable (default: 'info' in production, 'debug' in development)
    - Enable pino-pretty transport only in development for human-readable output
    - Add standard formatters for consistent timestamp and level formatting
    - Export both default logger and a factory function for creating child loggers
    - Include proper TypeScript types

    The logger should be optimized for Next.js with server-side logging in mind.
  </action>
  <verify>ls -la /Volumes/extSSD/dev/projects/anime-recommendation/frontend/lib/logger.ts</verify>
  <done>Logger configuration file created with proper TypeScript types and environment-based setup</done>
</task>

<task type="auto">
  <name>Task 3: Add logging environment variables</name>
  <files>frontend/.env.local</files>
  <action>
    Add the LOG_LEVEL environment variable to .env.local file:
    - LOG_LEVEL=debug (for development)
    - Add comment explaining the available levels: debug, info, warn, error

    Also add a comment explaining that in production, logs will be JSON format without pretty printing.
  </action>
  <verify>grep -n "LOG_LEVEL" /Volumes/extSSD/dev/projects/anime-recommendation/frontend/.env.local</verify>
  <done>LOG_LEVEL environment variable added to .env.local with appropriate documentation</done>
</task>

</tasks>

<verification>
After completion:
1. Logger utility is created and exports properly
2. Dependencies are installed
3. Environment variable is configured
4. Logger can be imported in other files
</verification>

<success_criteria>
- Pino and pino-pretty are installed in frontend/package.json
- frontend/lib/logger.ts exists with proper configuration
- LOG_LEVEL environment variable is set in .env.local
- Logger exports are working (can import in a test file)
- Development logs are pretty-printed, production logs are JSON format
</success_criteria>

<output>
After completion, create `.planning/phases/01-logging-cleanup/01-01-SUMMARY.md`
</output>