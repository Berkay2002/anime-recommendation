---
phase: 04-loading-states
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - frontend/components/loading/LoadingSpinner.tsx
  - frontend/components/loading/LoadingOverlay.tsx
  - frontend/components/loading/index.ts
autonomous: true

must_haves:
  truths:
    - "Reusable LoadingSpinner component displays for API operations"
    - "LoadingSpinner has proper ARIA attributes for accessibility"
    - "LoadingOverlay provides full-page loading state with message"
  artifacts:
    - path: "frontend/components/loading/LoadingSpinner.tsx"
      provides: "Reusable loading spinner component"
      exports: ["LoadingSpinner"]
    - path: "frontend/components/loading/LoadingOverlay.tsx"
      provides: "Full-page loading overlay"
      exports: ["LoadingOverlay"]
    - path: "frontend/components/loading/index.ts"
      provides: "Barrel export for loading components"
  key_links:
    - from: "LoadingSpinner component"
      to: "lucide-react"
      via: "Loader2 icon import"
      pattern: 'from "lucide-react"'
    - from: "LoadingSpinner component"
      to: "screen readers"
      via: "ARIA attributes"
      pattern: 'role="status"'
---

<objective>
Create reusable loading indicator components

Purpose: Provide consistent loading spinners and overlays for API operations across the application
Output: LoadingSpinner and LoadingOverlay components with proper accessibility
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/STATE.md
@.planning/ROADMAP.md
@.planning/phases/04-loading-states/04-RESEARCH.md

@frontend/components/SearchBar.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create LoadingSpinner component</name>
  <files>frontend/components/loading/LoadingSpinner.tsx</files>
  <action>
    Create frontend/components/loading/LoadingSpinner.tsx:

    Implement component with:
    1. Import Loader2 from lucide-react
    2. Props interface: size?: "sm" | "md" | "lg", message?: string
    3. Size classes: sm (h-4 w-4), md (h-8 w-8), lg (h-12 w-12)
    4. ARIA attributes: role="status", aria-live="polite", aria-busy="true"
    5. Screen reader only text: <span className="sr-only">Loading...</span>
    6. Optional message display with muted-foreground styling

    Reference: Code Example from RESEARCH.md (Loading Spinner with Accessibility)

    Follow existing codebase patterns:
    - Use TypeScript with proper typing
    - Use Tailwind classes for styling
    - Follow naming conventions (PascalCase components)
  </action>
  <verify>
    Component file exists and exports LoadingSpinner:
    grep -q "export.*LoadingSpinner" frontend/components/loading/LoadingSpinner.tsx && echo "Component exported"
  </verify>
  <done>
    LoadingSpinner component created with size variants and accessibility
  </done>
</task>

<task type="auto">
  <name>Task 2: Create LoadingOverlay component</name>
  <files>frontend/components/loading/LoadingOverlay.tsx</files>
  <action>
    Create frontend/components/loading/LoadingOverlay.tsx:

    Implement component with:
    1. Import LoadingSpinner from same directory
    2. Props interface: message?: string, show?: boolean
    3. Fixed position overlay covering entire viewport
    4. Semi-transparent backdrop (bg-background/80)
    5. Centered content with flexbox
    6. Renders LoadingSpinner with message
    7. ARIA attributes: role="status", aria-live="assertive", aria-busy={show}

    When show is false, render nothing (early return)

    Use z-50 to ensure overlay appears above other content

    This provides full-page loading state for operations that block interaction
  </action>
  <verify>
    Component file exists and exports LoadingOverlay:
    grep -q "export.*LoadingOverlay" frontend/components/loading/LoadingOverlay.tsx && echo "Component exported"
  </verify>
  <done>
    LoadingOverlay component created for full-page loading states
  </done>
</task>

<task type="auto">
  <name>Task 3: Create barrel export for loading components</name>
  <files>frontend/components/loading/index.ts</files>
  <action>
    Create frontend/components/loading/index.ts:

    Export both loading components:
    ```typescript
    export { LoadingSpinner } from './LoadingSpinner'
    export { LoadingOverlay } from './LoadingOverlay'
    ```

    This allows clean imports: `import { LoadingSpinner } from '@/components/loading'`
  </action>
  <verify>
    Barrel export created:
    grep -q "export.*Loading" frontend/components/loading/index.ts && echo "Exports found"
  </verify>
  <done>
    Loading components can be imported from @/components/loading
  </done>
</task>

</tasks>

<verification>
1. LoadingSpinner displays animated spinner icon
2. LoadingSpinner has proper size variants (sm, md, lg)
3. LoadingSpinner announces loading state to screen readers
4. LoadingOverlay covers entire viewport when shown
5. LoadingOverlay centers spinner and message
6. Both components have zero TypeScript errors
7. Components follow existing codebase patterns
</verification>

<success_criteria>
1. LoadingSpinner component created with size prop and optional message
2. LoadingOverlay component created with backdrop and centered content
3. Both components have ARIA attributes for accessibility
4. Barrel export created for clean imports
5. Zero TypeScript or lint errors
6. Components match existing design system (Tailwind classes, lucide-react icons)
</success_criteria>

<output>
After completion, create `.planning/phases/04-loading-states/04-03-SUMMARY.md`
</output>
